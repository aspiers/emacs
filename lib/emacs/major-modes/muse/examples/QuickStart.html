<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
    <title>The Emacs Muse (by John Wiegley)</title>
    <meta name="generator" content="muse.el">
    <meta http-equiv="Content-Type"
          content="text/html; charset=iso-8859-1">
    
    <style type="text/css">
body {
  background: white; color: black;
  margin-left: 3%; margin-right: 7%;
}

p { margin-top: 1% }
p.verse { margin-left: 3% }

.example { margin-left: 3% }

h2 {
  margin-top: 25px;
  margin-bottom: 0px;
}
h3 { margin-bottom: 0px; }
    </style>
  </head>
  <body>
    <h1>The Emacs Muse (by John Wiegley)</h1>
    <!-- Page published by Emacs Muse begins here -->
<p>Emacs Muse is an authoring and publishing environment for Emacs.  It
simplifies the process of writings documents and publishing them to
various output formats.</p>

<p>Muse consists of two main parts: an enhanced text-mode for authoring
documents and navigating within Muse projects, and a set of publishing
styles for generating different kinds of output.</p>

<dl class="contents">
<dt class="contents">
<a href="#sec1">About this document</a>
</dt>
<dt class="contents">
<a href="#sec2">Getting Started</a>
</dt>
<dt class="contents">
<a href="#sec3">Creating a Muse project</a>
</dt>
<dt class="contents">
<a href="#sec4">Markup rules</a>
</dt>
<dd>
<dl class="contents">
<dt class="contents">
<a href="#sec5">Paragraphs</a>
</dt>
<dt class="contents">
<a href="#sec6">Centered paragraphs and quotations</a>
</dt>
<dt class="contents">
<a href="#sec7">Headings</a>
</dt>
<dt class="contents">
<a href="#sec8">Horizontal rules</a>
</dt>
<dt class="contents">
<a href="#sec9">Emphasizing text</a>
</dt>
<dt class="contents">
<a href="#sec10">Adding footnotes</a>
</dt>
<dt class="contents">
<a href="#sec11">Verse</a>
</dt>
<dt class="contents">
<a href="#sec12">Literal paragraphs</a>
</dt>
<dt class="contents">
<a href="#sec13">Lists</a>
</dt>
<dt class="contents">
<a href="#sec14">Tables</a>
</dt>
<dt class="contents">
<a href="#sec15">Anchors and tagged links</a>
</dt>
<dt class="contents">
<a href="#sec16">URLs and E-mail addresses</a>
</dt>
<dt class="contents">
<a href="#sec17">Links</a>
</dt>
<dt class="contents">
<a href="#sec18">Embedded lisp</a>
</dt>
</dl>
</dd>
<dt class="contents">
<a href="#sec19">Publishing styles</a>
</dt>
<dd>
<dl class="contents">
<dt class="contents">
<a href="#sec20">Deriving from an existing style</a>
</dt>
<dt class="contents">
<a href="#sec21">Overriding an existing style</a>
</dt>
<dt class="contents">
<a href="#sec22">Creating a new style</a>
</dt>
</dl>
</dd>
</dl>


<h2><a name="sec1" id="sec1"></a>
About this document</h2>

<p class="first">This document provides an example of Muse markup and also functions as
a quickstart for Muse.</p>

<p>To see what it looks like when published, type <code>make examples</code>.  You
will then get an Info document, an HTML document, and a PDF document
(provided you have an implementation of LaTeX installed with the
necessary fonts).</p>


<h2><a name="sec2" id="sec2"></a>
Getting Started</h2>

<p class="first">To use Muse, add the directory containing its files to your
<code>load-path</code> variable, in your <code>.emacs</code> file.  Then, load in the
authoring mode, and the styles you wish to publish to.  For example:</p>

<pre class="example">
(add-to-list 'load-path &quot;&lt;path to Muse&gt;&quot;)

(require 'muse-mode)     ; load authoring mode

(require 'muse-html)     ; load publishing styles I use
(require 'muse-latex)
(require 'muse-texinfo)
(require 'muse-docbook)
</pre>

<p>Once loaded, the command <code>M-x muse-publish-this-file</code> will publish an
input document to any available style.  If you enable <code>muse-mode</code>
within a buffer, by typing <code>M-x muse-mode</code>, this command will be bound
to <code>C-c C-t</code>.</p>


<h2><a name="sec3" id="sec3"></a>
Creating a Muse project</h2>

<p class="first">Often you will want to publish all the files within a directory to a
particular set of output styles automatically.  To support, Muse
allows for the creations of &quot;projects&quot;.  Here is a sample project, to
be defined in your <code>.emacs</code> file:</p>

<pre class="example">
(require 'muse-project)

(setq muse-project-alist
      '((&quot;website&quot;                      ; my various writings
         (&quot;~/Pages&quot; :default &quot;index&quot;)
         (:base &quot;html&quot; :path &quot;~/public_html&quot;)
         (:base &quot;pdf&quot; :path &quot;~/public_html/pdf&quot;))))
</pre>

<p>The above defines a project named &quot;website&quot;, whose files are located
in the directory <code>~/Pages</code>.  The default page to visit is <code>index</code>.
When this project is published, each page will be output as HTML to
the directory <code>~/public_html</code>, and as PDF to the directory
<code>~/public_html/pdf</code>.  Within any project page, you may create a link
to other pages using the syntax <code>[[pagename]]</code>.</p>


<h2><a name="sec4" id="sec4"></a>
Markup rules</h2>

<p class="first">A Muse document uses special, contextual markup rules to determine how
to format the output result.  For example, if a paragraph is indented,
Muse assumes it should be quoted.</p>

<p>There are not too many markup rules, and all of them strive to be as
simple as possible so that you can focus on document creation, rather
than formatting.</p>

<h3><a name="sec5" id="sec5"></a>
Paragraphs</h3>

<p class="first">Separate paragraphs in Muse must be separate by a blank line.</p>

<p>For example, the input text used for this section is:</p>

<pre class="example">
Separate paragraphs in Muse must be separate by a blank line.

For example, the input text used for this section is:
</pre>


<h3><a name="sec6" id="sec6"></a>
Centered paragraphs and quotations</h3>

<p class="first">A line that begins with six or more columns of whitespace (either tabs
or spaces) indicates a centered paragraph.</p>

<center>
<p>This is centered</p>
</center>

<blockquote>
<p class="quoted">But if a line begins with whitespace, though less than six columns,
it indicates a quoted paragraph.</p>
</blockquote>


<h3><a name="sec7" id="sec7"></a>
Headings</h3>

<p class="first">A heading becomes a chapter or section in printed output &mdash; depending
on the style.  To indicate a heading, start a new paragraph with one
to three asterices, followed by a space and the heading title.  Then
begin another paragraph to enter the text for that section.</p>

<pre class="example">
* First level

** Second level

*** Third level
</pre>


<h3><a name="sec8" id="sec8"></a>
Horizontal rules</h3>

<p class="first">Four or more dashes indicate a horizontal rule.  Be sure to put blank
lines around it, or it will be considered part of the proceeding or
following paragraph!</p>

<hr>

<p class="first">The separator above was produced by typing:</p>

<pre class="example">
----
</pre>


<h3><a name="sec9" id="sec9"></a>
Emphasizing text</h3>

<p class="first">To emphasize text, surround it with certain specially recognized
characters:</p>

<pre class="example">
*emphasis*
**strong emphasis**
***very strong emphasis***
_underlined_
=verbatim and monospace=
</pre>

<p>The above list renders as:</p>

<p class="verse">
<em>emphasis</em><br>
<strong>strong emphasis</strong><br>
<strong><em>very strong emphasis</em></strong><br>
<u>underlined</u><br>
<code>verbatim and monospace</code><br>
</p>


<h3><a name="sec10" id="sec10"></a>
Adding footnotes</h3>

<p class="first">A footnote reference is simply a number in square
brackets[1].<sup><a name="fnr.1" href="#fn.1">1</a></sup> To define the footnote, place
this definition at the bottom of your file.  <code>footnote-mode</code> can be
used to greatly facilitate the creation of these kinds of footnotes.</p>

<pre class="example">
 Footnotes:
 [1]  Footnotes are defined by the same number in brackets
      occurring at the beginning of a line.  Use footnote-mode's
      C-c ! a command, to very easily insert footnotes while
      typing.  Use C-x C-x to return to the point of insertion.
</pre>


<h3><a name="sec11" id="sec11"></a>
Verse</h3>

<p class="first">Poetry requires that whitespace be preserved, but without resorting to
monospace.  To indicate this, use the following markup, reminiscent of
e-mail quotations:</p>

<pre class="example">
&gt; A line of Emacs verse;
&gt;   forgive its being so terse.
</pre>

<p>The above is rendered as:</p>

<p class="verse">
A line of Emacs verse;<br>
&nbsp;&nbsp;forgive its being so terse.<br>
</p>

You can also use the <code>&lt;verse&gt;</code> tag, if you prefer:

<pre class="example">
&lt;verse&gt;
A line of Emacs verse;
  forgive its being so terse.
&lt;/verse&gt;
</pre>


<h3><a name="sec12" id="sec12"></a>
Literal paragraphs</h3>

<p class="first">The <code>&lt;example&gt;</code> tag is used for examples, where
whitespace should be preserved, the text rendered in monospace, and
any characters special to the output style escaped.</p>

<p>There is also the <code>&lt;literal&gt;</code> tag, which causes a
marked block to be entirely left alone.  This can be used for
inserting a hand-coded HTML blocks into HTML output, for example.</p>


<h3><a name="sec13" id="sec13"></a>
Lists</h3>

<p class="first">Lists are given using special characters at the beginning of a line.
Whitespace must occur before bullets or numbered items, to distinguish
from the possibility of those characters occurring in a real sentence.</p>

<p>The supported kinds of lists are:</p>

<pre class="example">
  - bullet item one
  - bullet item two

  1. Enumerated item one
  2. Enumerated item two

Term1 :: A definition one

Term2 :: A definition two
</pre>

<p>These are rendered as a bullet list:</p>

<ul>
<li>bullet item one</li>
<li>bullet item two</li>
</ul>

<p>An enumerated list:</p>

<ol>
<li>Enum item one</li>
<li>Enum item two</li>
</ol>

<p>And a definition list:</p>

<dl>
<dt><strong>Term1</strong></dt>
<blockquote>
<p class="quoted">This is a first definition
And it has two lines;
no, make that three.
</dl></p>
</blockquote>

<dl>
<dt><strong>Term2</strong></dt>
<blockquote>
<p class="quoted">This is a second definition
</dl></p>
</blockquote>


<h3><a name="sec14" id="sec14"></a>
Tables</h3>

<p class="first">Only very simple tables are supported.  The syntax is:</p>

<pre class="example">
  Double bars  || Separate header fields

  Single bars   | Separate body fields
  Here are more | body fields

  Triple bars ||| Separate footer fields
</pre>

<p>The above is rendered as:</p>

<table class="muse-table" border="2" cellpadding="5">
  <thead>
    <tr>
      <th>Double bars</th>
      <th>Separate header fields</th>
    </tr>
  </thead>
</table>

<table class="muse-table" border="2" cellpadding="5">
  <tbody>
    <tr>
      <td>Single bars</td>
      <td>Separate body fields</td>
    </tr>
    <tr>
      <td>Here are more</td>
      <td>body fields</td>
    </tr>
  </tbody>
</table>

<table class="muse-table" border="2" cellpadding="5">
  <tfoot>
    <tr>
      <td>Triple bars</td>
      <td>Separate footer fields</td>
    </tr>
  </tfoot>
</table>




<h3><a name="sec15" id="sec15"></a>
Anchors and tagged links</h3>

<p><a name="example" id="example"></a>
If you begin a line with &quot;#anchor&quot; &mdash; where &quot;anchor&quot; can be
any word that doesn't contain whitespace &mdash; it defines an anchor at
that point into the document.  This point can be referenced using
&quot;page#anchor&quot; as the target in a Muse link (see below).</p>

<p>Click <a href="#example">here</a> to go back to the previous paragraph.</p>


<h3><a name="sec16" id="sec16"></a>
URLs and E-mail addresses</h3>

<p class="first">A URL or e-mail address encountered in the input text is published as
a hyperlink if the output style supports it.  If it is an image URL,
it will be inlined if possible.  For example, the latest Muse source
can be downloaded at <a href="http://download.gna.org/muse-el">http://download.gna.org/muse-el</a> and mail may be
sent to <a href="mailto:mwolson@gnu.org">mwolson@gnu.org</a>.</p>


<h3><a name="sec17" id="sec17"></a>
Links</h3>

<p class="first">A hyperlink can reference a URL, or another page within a Muse
project.  In addition, descriptive text can be specified, which should
be displayed rather than the link text in output styles that supports
link descriptions.  The syntax is:</p>

<pre class="example">
[[link target][link description]]
[[link target without description]]
</pre>

<p>Thus, Muse can be downloaded <a href="http://download.gna.org/muse-el/">here</a>, or at
<a href="http://download.gna.org/muse-el/">http://download.gna.org/muse-el/</a>.</p>


<h3><a name="sec18" id="sec18"></a>
Embedded lisp</h3>

<p class="first">Arbitrary kinds of markup can be achieved using the
<code>&lt;lisp&gt;</code> tag, which is the only Muse tag supported
in a style's header and footer text.  With the
<code>&lt;lisp&gt;</code> tag, you may generated whatever output
text you wish.  The inserted output will get marked up, if the
<code>&lt;lisp&gt;</code> tag appears within the main text of the
document.</p>

<pre class="example">
&lt;lisp&gt;(concat &quot;This form gets &quot; &quot;inserted&quot;)&lt;/lisp&gt;
</pre>

<p>The above renders as: This form gets inserted.</p>



<h2><a name="sec19" id="sec19"></a>
Publishing styles</h2>

<p class="first">One of the principle features of Muse is the ability to publish a
simple input text to a variety of different output styles.  Muse also
makes it easy to create new styles, or derive from an existing style.</p>

<h3><a name="sec20" id="sec20"></a>
Deriving from an existing style</h3>

<p class="first">To create a new style from an existing one, use <code>muse-derive-style</code>:</p>

<pre class="example">
(muse-derive-style DERIVED-NAME BASE-NAME STYLE-PARAMETERS)
</pre>

<p>The derived name is a string defining the new style, such as
&quot;my-html&quot;.  The base name must identify an existing style, such as
&quot;html&quot; &mdash; if you have loaded <code>muse-html</code>.  The style parameters are
the same as those used to create a style, except that they override
whatever definitions exist in the base style.  However, some
definitions only partially override.  Those which support partial
overriding are:</p>

<ul>
<li><code>:functions</code> &mdash; If a markup function is not found in the derived
style's function list, the base style's function list will be
queried.</li>

<li><code>:strings</code></li>

<li><code>:before</code></li>

<li><code>:before-end</code></li>

<li><code>:after</code></li>
</ul>


<h3><a name="sec21" id="sec21"></a>
Overriding an existing style</h3>

<p class="first">Write me.</p>


<h3><a name="sec22" id="sec22"></a>
Creating a new style</h3>

<p class="first">Write me.</p>

<hr>
<p class="footnote"><a name="fn.1" href="#fnr.1">1.</a>  This is a footnote.</p>




<!-- Page published by Emacs Muse ends here -->
  </body>
</html>
